<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AIA Reward Lottery - Drawing (Manual Prize Blocks)</title>
    <link rel="icon" type="image/jpeg" href="assets/pic/aialogo.jpeg" />
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <!-- AIA Logo in top right corner -->
    <img src="assets/pic/aialogo.jpeg" alt="AIA Logo" class="top-right-logo">
    <div class="container">
      <div class="title-section">
        <div class="title-row">
          <div class="title-badge">
            <span class="aia-logo">AIA</span>
          </div>
          <div class="subtitle-external">Win Amazing Cash Prizes • Live Drawing System</div>
        </div>
        <h1 class="main-title">
          <span class="title-line-1"><span class="trophy">🏆</span> <span class="corporate-text">Corporate Solutions</span> <span class="trophy">🏆</span></span>
          <span class="title-line-2">REWARD LOTTERY</span>
        </h1>
      </div>
      <!-- Prize blocks for each group, only one will be shown -->
      <div id="blocks-group1" class="blocks-container" style="display:none">
        <div class="block" data-name="$50 Cash Prize">$50 Cash</div>
        <div class="block" data-name="$100 Cash Prize">💵 $100 Cash</div>
        <div class="block" data-name="$200 Cash Prize">💸 $200 Cash</div>
        <div class="block" data-name="$500 Cash Prize">💸 $500 Cash</div>
        <div class="block" data-name="$1000 Cash Prize">🏆 $1000 Cash</div>
        <div class="block" data-name="$500 Cash Prize">💸 $500 Cash</div>
        <div class="block" data-name="$200 Cash Prize">💸 $200 Cash</div>
        <div class="block" data-name="$100 Cash Prize">💵 $100 Cash</div>
        <div class="block" data-name="$50 Cash Prize">$50 Cash</div>
      </div>
      <div id="blocks-group2" class="blocks-container" style="display:none">
        <div class="block" data-name="$50 Cash Prize">$50 Cash</div>
        <div class="block" data-name="$100 Cash Prize">💵 $100 Cash</div>
        <div class="block" data-name="$500 Cash Prize">💸 $500 Cash</div>
        <div class="block" data-name="$1000 Cash Prize">🏆 $1000 Cash</div>
        <div class="block" data-name="$500 Cash Prize">💸 $500 Cash</div>
        <div class="block" data-name="$100 Cash Prize">💵 $100 Cash</div>
        <div class="block" data-name="$50 Cash Prize">$50 Cash</div>
        <div class="block" data-name="$1000 Cash Prize">🏆 $1000 Cash</div>
        <div class="block" data-name="$100 Cash Prize">💵 $100 Cash</div>
      </div>
      <div id="blocks-group24" class="blocks-container" style="display:none">
        <div class="block" data-name="$50 Cash Prize">$50 Cash</div>
        <div class="block" data-name="$100 Cash Prize">💵 $100 Cash</div>
        <div class="block" data-name="$200 Cash Prize">💸 $200 Cash</div>
        <div class="block" data-name="$500 Cash Prize">💸 $500 Cash</div>
        <div class="block" data-name="$1000 Cash Prize">🏆 $1000 Cash</div>
        <div class="block" data-name="$500 Cash Prize">💸 $500 Cash</div>
        <div class="block" data-name="$200 Cash Prize">💸 $200 Cash</div>
        <div class="block" data-name="$100 Cash Prize">💵 $100 Cash</div>
        <div class="block" data-name="$50 Cash Prize">$50 Cash</div>
      </div>
      <div id="blocks-group25" class="blocks-container" style="display:none">
        <div class="block" data-name="$20 Cash Prize">$20 Cash</div>
        <div class="block" data-name="$50 Cash Prize">$50 Cash</div>
        <div class="block" data-name="$100 Cash Prize">💵 $100 Cash</div>
        <div class="block" data-name="$500 Cash Prize">💸 $500 Cash</div>
        <div class="block" data-name="$1000 Cash Prize">🏆 $1000 Cash</div>
        <div class="block" data-name="$500 Cash Prize">💸 $500 Cash</div>
        <div class="block" data-name="$100 Cash Prize">💵 $100 Cash</div>
        <div class="block" data-name="$50 Cash Prize">$50 Cash</div>
        <div class="block" data-name="$20 Cash Prize">$20 Cash</div>
      </div>
      <div id="blocks-groupdefault" class="blocks-container" style="display:none">
        <div class="block" data-name="$50 Cash Prize">$50 Cash</div>
        <div class="block" data-name="$100 Cash Prize">💵 $100 Cash</div>
        <div class="block" data-name="$500 Cash Prize">💸 $500 Cash</div>
        <div class="block" data-name="$1000 Cash Prize">🏆 $1000 Cash</div>
        <div class="block" data-name="$500 Cash Prize">💸 $500 Cash</div>
        <div class="block" data-name="$100 Cash Prize">💵 $100 Cash</div>
        <div class="block" data-name="$50 Cash Prize">$50 Cash</div>
        <div class="block" data-name="$1000 Cash Prize">🏆 $1000 Cash</div>
        <div class="block" data-name="$100 Cash Prize">💵 $100 Cash</div>
      </div>
      <!-- ...existing summary/results UI... -->
      <div id="results-summary" class="results-box hidden">
        <h2>🏆 Prize Summary</h2>
        <div class="results-grid">
          <div class="prize-counts-front" id="prize-counts"></div>
          <div class="total-summary" id="total-summary">
            <div class="total-winnings">
              <p>💰 Total Winnings</p>
              <h2>$<span id="total-amount">0</span></h2>
            </div>
            <div class="tickets-drawn">
              <p>🎫 Tickets Drawn</p>
              <h2><span id="tickets-drawn">0</span></h2>
            </div>
          </div>
        </div>
        <button id="new-draw-btn" class="secondary-btn">Draw Another Player</button>
      </div>
      <div class="draw-btn-wrapper">
        <div class="left-arrow">Press >>>>></div>
        <button id="draw-btn">Draw All Tickets!</button>
        <div class="right-arrow"><<<<<  Press</div>
      </div>
      <div id="winner"></div>
      <div class="player-info">
        <div class="current-player">
          <span>Current Player: <strong id="player-name">Loading...</strong></span>
          <span>Remaining Tickets: <strong id="remaining-tickets"></strong></span>
        </div>
        <div class="drawing-controls">
          <button id="back-to-selection" class="secondary-btn">← Back to Selection</button>
        </div>
      </div>
      <div id="confetti-container"></div>
    </div>
    <script>
      // Utility to extract group number from player data in localStorage
      function getPlayerGroupNum() {
        try {
          const playerData = JSON.parse(localStorage.getItem('player')) || JSON.parse(localStorage.getItem('selectedPlayer'));
          if (playerData && playerData.groupName) {
            const match = playerData.groupName.match(/Group\s*(\d+)/i);
            if (match) return match[1];
          }
        } catch (e) {}
        return null;
      }
      // Show only the correct blocks-container for the player's group
      function showCorrectPrizeBlocks() {
        const groupNum = getPlayerGroupNum();
        let showId = 'blocks-groupdefault';
        if (groupNum === '1') showId = 'blocks-group1';
        else if (["2","4","8","9","10","13","23"].includes(groupNum)) showId = 'blocks-group2';
        else if (groupNum === '24') showId = 'blocks-group24';
        else if (groupNum === '25') showId = 'blocks-group25';
        // Hide all
        document.querySelectorAll('.blocks-container').forEach(el => el.style.display = 'none');
        // Show only the correct one
        const showEl = document.getElementById(showId);
        if (showEl) showEl.style.display = '';
      }
      document.addEventListener('DOMContentLoaded', showCorrectPrizeBlocks);
    </script>
    <script src="js/blocks.js"></script>
    <script src="js/sales-lottery.js"></script>
    <script src="js/app.js"></script>
    <script src="js/drawing-page.js"></script>
  </body>
</html>
